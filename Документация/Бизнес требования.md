# Бизнес-требования (Business Requirements Document)
## Локальный мессенджер для образовательных учреждений

**Версия документа:** 1.0 (фактическая)  
**Дата:** 2026  
**Автор:** Малиневский Егор Сергеевич/21ИС-24  
**Статус:** Учебный проект (реализован)

---

## 1. Общее описание проекта

**Название:** Local Messenger (Локальный мессенджер)  
**Тип проекта:** Учебный, клиент-серверное приложение  
**Статус:** Реализован и работает

### Краткое описание
Локальный мессенджер — это учебный проект, реализующий базовые функции обмена сообщениями в пределах локальной сети. Система разработана для демонстрации навыков создания клиент-серверных приложений.

**Фактические особенности:**
- Работа в локальной сети (статический IP)
- Клиент на PyQt5 + сервер на FastAPI
- Базовый real-time через WebSocket
- JWT аутентификация
- SQLite база данных

---

## 2. Цели и задачи проекта

### 2.1. Учебные цели (реальные)
1. **Освоение полного стека:** FastAPI + PyQt5 + SQLite + WebSocket
2. **Демонстрация клиент-серверной архитектуры**
3. **Реализация базового мессенджера** с ограниченным функционалом
4. **Создание рабочего прототипа** для портфолио

### 2.2. Фактические задачи (что реализовано)

#### Аутентификация и пользователи:
- ✅ Регистрация нового пользователя
- ✅ Вход в систему (отдельно от регистрации)
- ✅ Первый пользователь автоматически становится администратором
- ✅ Просмотр списка всех пользователей
- ✅ Базовый онлайн-статус (обновляется каждые 10 сек)

#### Обмен сообщениями:
- ✅ Отправка и получение текстовых сообщений
- ✅ История переписки между двумя пользователями
- ✅ Отправка изображений (PNG, JPG, GIF, BMP) через base64
- ✅ Базовое отображение изображений в чате (фиксированная ширина 200px)

#### Управление сообщениями:
- ✅ Удаление собственных сообщений по ID
- ✅ WebSocket уведомления об удалении для всех участников
- ✅ Контекстное меню для ввода ID удаляемого сообщения

#### Администрирование:
- ✅ Просмотр всех сообщений в системе (только через API)
- ✅ Просмотр информации о всех пользователях (только через API)
- ✅ Проверка прав администратора

#### Интерфейс:
- ✅ Графический интерфейс на PyQt5
- ✅ Список контактов слева, область чата справа
- ✅ Вкладки для нескольких открытых чатов
- ✅ Визуальное различие своих и чужих сообщений
- Поиск существующий базы данных (broadcast)

---

## 3. Функциональные ограничения (реальные)

### 3.1. Что система НЕ делает:
1. ❌ **Нет групповых чатов** — только индивидуальная переписка 1-на-1
2. ❌ **Нет восстановления пароля** — при потере нужно создавать нового пользователя
3. ❌ **Нет поиска** по сообщениям или пользователям
4. ❌ **Нет редактирования** отправленных сообщений
5. ❌ **Нет аватаров** пользователей
6. ❌ **Нет звуковых уведомлений**
7. ❌ **Нет увеличения изображений** — фиксированный размер 200px
8. ❌ **Нет облачной синхронизации** — все данные на локальном сервере

### 3.2. Особенности реализации:
1. ⚠️ **Удаление сообщений:** Требует ручного ввода ID сообщения
2. ⚠️ **Онлайн-статус:** Обновляется по таймеру (10 сек), не мгновенно
3. ⚠️ **Изображения:** Хранятся в БД как base64, могут быть большими
4. ⚠️ **Интерфейс:** Базовый, без темной темы, без настроек

---

## 4. Технические характеристики

### 4.1. Архитектура (фактическая):
```
Клиент (PyQt5) ↔ HTTP/WebSocket ↔ Сервер (FastAPI) ↔ БД (SQLite)
```

### 4.2. Используемые технологии:
- **Бэкенд:** FastAPI, Python 3.8+
- **Фронтенд:** PyQt5
- **База данных:** SQLite (файл messenger.db)
- **Аутентификация:** JWT + bcrypt
- **Real-time:** WebSocket (на порту 8000, том же что и HTTP)

### 4.3. Сетевые требования:
- **Только локальная сеть** (один IP-сегмент)
- **Статический IP** для сервера
- **Открытый порт 8000** в локальной сети
- **Нет доступа из интернета**

### 4.4. Ограничения:
- **Максимальный размер изображений:** практически до 10 МБ (ограничение base64)
- **Количество пользователей:** тестировалось с 2-3, не масштабировалось
- **Производительность:** учебный проект, не оптимизирован для нагрузки

---

## 5. Критерии успеха (реалистичные)

### 5.1. Учебные критерии (достигнуты):
- [x] **Рабочий прототип:** Система полностью функционирует
- [x] **Все основные функции работают:** регистрация, отправка сообщений, история
- [x] **Клиент-серверное взаимодействие:** Корректная работа через сеть
- [x] **Real-time элементы:** WebSocket для уведомлений об удалении
- [x] **Безопасность:** JWT аутентификация, хеширование паролей
- [x] **Документация:** Созданы основные документы проекта

### 5.2. Практические критерии:
- [x] **Установка и запуск:** Система может быть развернута в учебной сети
- [x] **Использование в учебных целях:** Может демонстрировать принципы разработки
- [x] **Стабильность:** Работает без критических ошибок при обычном использовании
- [ ] **Масштабируемость:** Не тестировалась с большим количеством пользователей
- [ ] **Производительность:** Не измерялась, приемлема для учебных задач

### 5.3. Критерии защиты проекта:
- [x] **Демонстрация работы:** Все основные функции можно показать
- [x] **Понимание архитектуры:** Может быть объяснена структура системы
- [x] **Код соответствует документации:** Реализация соответствует описанию
- [x] **Проект завершен:** Все запланированные функции реализованы

---

## 6. Целевая аудитория (фактическая)

### 6.1. Реальные пользователи:
1. **Разработчик (студент):** 
   - Создатель системы
   - Единственный разработчик и тестировщик
   - Цель: обучение и создание портфолио

2. **Преподаватель:**
   - Оценивает проект
   - Проверяет понимание технологий
   - Не использует систему как конечный продукт

3. **Технически подготовленные пользователи (гипотетически):**
   - Могли бы использовать в учебной сети
   - Понимают ограничения учебного проекта
   - Знают, как настроить сеть и Python

### 6.2. Ограничения использования:
- **Не для production:** Учебный проект, не коммерческий продукт
- **Требует технических знаний:** Для установки и настройки
- **Ограниченная поддержка:** Разработано одним студентом

---

## 7. Ограничения и допущения

### 7.1. Технические ограничения (фактические):
1. **Сеть:** Только одна подсеть, нет маршрутизации между сетями
2. **Безопасность:** Нет шифрования сообщений, только аутентификация
3. **Хранение данных:** Один файл SQLite, нет репликации
4. **Резервное копирование:** Ручное копирование файла messenger.db
5. **Мониторинг:** Базовые логи FastAPI, нет системы мониторинга

### 7.2. Допущения (для учебного проекта):
1. **Пользователи технически грамотны:** Могут настроить Python и сеть
2. **Малая нагрузка:** Одновременно 2-5 пользователей
3. **Стабильная сеть:** Локальная сеть работает без сбоев
4. **Администратор доступен:** Может решить проблемы с настройкой
5. **Данные не критичны:** Потеря истории переписки приемлема

### 7.3. Известные ограничения:
1. **SQLite в многопользовательском режиме:** Может быть медленно при одновременном доступе
2. **Base64 для изображений:** Увеличивает размер данных в 1.3 раза
3. **PyQt5 зависимость:** Требует установки тяжелых библиотек
4. **Нет инсталлятора:** Нужно устанавливать Python и зависимости вручную

---

## 8. Риски и их минимизация

### 8.1. Реальные риски учебного проекта:
| Риск | Вероятность | Влияние | Меры минимизации |
|------|-------------|---------|------------------|
| **Потеря данных БД** | Средняя | Высокое | Ручное резервное копирование файла messenger.db |
| **Проблемы с сетью** | Средняя | Высокое | Четкие инструкции по настройке сети |
| **Ошибки в коде** | Высокая | Среднее | Тестирование основных сценариев использования |
| **Сложность установки** | Высокая | Среднее | Подробная документация по установке |

### 8.2. Принятые решения:
1. **Использование SQLite:** Простота вместо производительности
2. **Base64 для изображений:** Простота реализации вместо оптимизации
3. **PyQt5 для UI:** Кроссплатформенность вместо нативного интерфейса
4. **Локальная сеть:** Безопасность вместо доступности

---

## 9. Успешность проекта

### 9.1. Достигнутые результаты:
1. **✅ Рабочая система:** Все основные функции реализованы
2. **✅ Полный стек технологий:** От бэкенда до фронтенда
3. **✅ Документация:** Созданы основные документы
4. **✅ Понимание архитектуры:** Проект демонстрирует принципы клиент-серверного взаимодействия

### 9.2. Ограничения успеха:
1. **⚠️ Учебный масштаб:** Не готов для коммерческого использования
2. **⚠️ Ограниченный функционал:** Только базовые функции мессенджера
3. **⚠️ Технические требования:** Требует знаний для установки
4. **⚠️ Отсутствие тестирования:** Только ручное базовое тестирование

### 9.3. Ценность для разработчика:
1. **Портфолио:** Реализованный проект с документацией
2. **Опыт:** Работа с полным стеком технологий
3. **Понимание:** Принципы разработки клиент-серверных приложений
4. **Документирование:** Навыки создания технической документации

---

## 10. Заключение

### 10.1. Итоговый статус проекта:
**Локальный мессенджер** успешно реализован как учебный проект. Система:

1. **✅ Работает:** Выполняет все заявленные функции
2. **✅ Демонстрирует технологии:** FastAPI, PyQt5, SQLite, WebSocket
3. **✅ Готова к защите:** Есть работающий код и документация
4. **✅ Имеет учебную ценность:** Показывает процесс разработки от идеи до реализации

### 10.2. Рекомендации по использованию:
1. **Как демонстрационный проект:** Для показа на защите
2. **Как учебный пример:** Для изучения клиент-серверной архитектуры
3. **Как основа для доработки:** Можно расширять функционал
4. **Не как коммерческий продукт:** Из-за ограничений и учебной природы

### 10.3. Перспективы развития (при желании):
1. **Добавление групповых чатов**
2. **Улучшение интерфейса удаления сообщений**
3. **Добавление поиска по сообщениям**
4. **Создание инсталлятора**

---

**Разработал:**  
___________________________  
Малиневский Егор Сергеевич  
Студент группы 21ИС-24  
Дата: 19.01.2026

**Принял:**  
___________________________  
Бобошко Михаил Николаевич 
Должность: Преподаватель
Дата: ___________________

---
*Документ точно описывает реализованный учебный проект "Локальный мессенджер". Все требования соответствуют фактическому коду системы.*
